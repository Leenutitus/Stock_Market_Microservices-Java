# AlpacaStockBuyer
# Alpaca Buy Microservice with Tracing

## Introduction

The Alpaca Buy Microservice with Tracing is a Java application that allows you to retrieve stock information from the Alpaca paper trading platform, place buy orders for a specific stock, and trace the execution of these operations using Jaeger. This microservice is designed for paper trading and leverages the Alpaca API for stock trading functionality. Additionally, it incorporates OpenTelemetry and Jaeger for distributed tracing.

### Features

1. **Retrieve Stock Information**: You can retrieve detailed information about a specific stock, including its name, status, exchange, and tradability.

2. **Place Buy Orders**: You can place market buy orders for a stock, specifying the stock symbol and the quantity you want to purchase.

3. **Distributed Tracing with Jaeger**: The application is instrumented with OpenTelemetry and exports trace data to a Jaeger instance, enabling you to monitor and trace the execution of key operations.

## Prerequisites

Before using this microservice, make sure you have the following:

1. Alpaca API Key and Secret Key: You need to have an Alpaca API key and secret key. You can obtain these keys by signing up for an Alpaca account and generating them in the developer dashboard.

2. Java Environment: Ensure you have a Java environment set up on your system to run the application.

3. Apache HttpClient Library: You will need the Apache HttpClient library to make HTTP requests to the Alpaca API. You can add this library to your project using Maven or another dependency management tool.

4. Jaeger Tracing Setup: Have a Jaeger instance up and running to receive and display the traces generated by the microservice.


### Jaeger Setup

1. Install Jaeger by following the official documentation: [Jaeger Installation Guide](https://www.jaegertracing.io/docs/latest/getting-started/)

2. Configure the Jaeger exporter in the code:

   ```java
   OtlpGrpcSpanExporter jaegerExporter = OtlpGrpcSpanExporter.builder()
       .setEndpoint("http://<jaeger_host>:<jaeger_port>") // Replace with your Jaeger instance's host and port
       .build();
   ```

## Usage

1. Clone the repository or download the source code for the Alpaca Buy Microservice with Tracing.

2. Update the `ALPACA_API_KEY` and `ALPACA_SECRET_KEY` variables with your Alpaca API credentials.

3. Build and run the Java application.

4. Follow the prompts in the console application to retrieve stock information and place buy orders.

5. To exit the application, type "EXIT" when prompted for a stock symbol.

6. Monitor and trace the application's execution in your Jaeger instance by navigating to the provided endpoint (e.g., `http://13.53.39.127:4317`).

## Example
Here is an example of using the Alpaca Buy Microservice with Jaeger tracing:

1.Enter a stock symbol (e.g., AAPL).

2.The application will display stock information, including the stock's name and status.

3.Enter the quantity of the stock you want to buy.

4.The application will place a market buy order for the specified quantity.

5.Jaeger traces will be generated for the "Retrieve Stock Info" operation, and you can view them in the Jaeger tracing UI.

## Distributed Tracing

This microservice is instrumented with OpenTelemetry to create traces for key operations, such as retrieving stock information. These traces are then exported to a Jaeger instance, allowing you to visualize the execution flow and performance of your application.

## Conclusion

The Alpaca Buy Microservice with Tracing is a powerful tool for interacting with the Alpaca paper trading platform, retrieving stock information, and placing buy orders while also enabling distributed tracing with Jaeger. This microservice can serve as a foundation for building more advanced trading algorithms and systems.
By using tracing, you can gain insights into the performance and latency of various operations within your application. Make sure to handle your API keys securely, and exercise caution when using this application for real trading. Feel free to extend and customize this microservice to suit your specific trading and tracing needs and requirements.
